<div class="row">
    <div class="col-12">
        <div class="card">
            <app-table-heading tableTitle="{{tableTitle}}"
                (searchItemEvent)="searchStaff($event)"></app-table-heading>
            <div class="card-body table-responsive p-0">
                <table class="table table-striped table-hover text-nowrap">
                    <thead>
                        <tr>
                            <th *ngFor="let header of tableHeaders">
                                {{ header }}
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            *ngFor="let item of this.searchedStaffs| slice: (page-1) * pageSize : (page-1) * pageSize + pageSize;index as i">
                            <td>
                                <span *ngIf="page===1">{{i+1}}.</span>
                                <span *ngIf="page>1">{{((page-1)*pageSize)+(i+1)}}.</span>
                            </td>
                            <td>{{ item.fullName }}</td>
                            <td>{{ item.staffCategory?.name }}</td>
                            <td>{{ item.designation?.name }}</td>
                            <td>{{ item.employmentType?.name }}</td>
                            <td>{{ item.email }}</td>
                            <td>{{ item.phoneNumber }}</td>                            
                            <td>{{ item.employmentDate | date: 'dd/MM/yyyy' }}</td>
                            <td>{{ item.nationality?.name }}</td>

                            <td *ngIf="showActionControls">
                                <a [routerLink]="['/staff/add']"
                                    [queryParams]="{id: item.id, action: 'view'}"
                                    class="view" title data-toggle="tooltip"
                                    data-original-title="View">
                                    <i class="fas fa-eye"></i></a>
                                <span> | </span>
                                <a [routerLink]="['/staff/add']"
                                    [queryParams]="{id: item.id, action: 'edit'}" class="edit"
                                    title
                                    data-toggle="tooltip" data-original-title="Edit">
                                    <i class="fas fa-edit"></i></a>
                                <span> | </span>
                                <a class="delete" title data-toggle="tooltip"
                                    (click)="deleteStaff(item.id)"
                                    data-original-title="Delete">
                                    <i class="fas fa-trash-alt"></i></a>
                            </td>
                            <td *ngIf="showLoginControls">
                                <a [routerLink]="['/users/add']"
                                    [queryParams]="{id: item.id}" class="edit"
                                    title="Staff login" data-toggle="tooltip"
                                    data-original-title="Staff login">
                                    <i class="fas fa-edit"></i> Staff login</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <app-table-paging
                    [collectionSize]="collectionSize"></app-table-paging>
            </div>
        </div>
    </div>
</div>